{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marko\\\\Desktop\\\\ufindi-konacno\\\\Front27.5\\\\src\\\\komponente\\\\Oglas.js\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AppContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Oglas(props) {\n  _s();\n  const navigate = useNavigate();\n  const korisnik = useContext(AppContext).korisnik;\n  const setOglas = useContext(AppContext).setOglas;\n  const jezik = useContext(AppContext).jezik;\n  const selectOglas = () => {\n    setOglas(props.oglas);\n    sessionStorage.setItem('oglas', props.oglas.idOglas);\n    navigate('../view_job_posting');\n  };\n  const handlePrijava = async () => {\n    const token = sessionStorage.getItem('jwt');\n    try {\n      const response = await fetch(`https://localhost:7080/Majstor/prijaviNaOglas?id=${props.oglas.idOglas}`, {\n        method: 'POST',\n        headers: {\n          Authorization: `bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        window.location.reload();\n      } else {\n        window.alert(jezik.general.error.netGreska + \": \" + (await response.text()));\n      }\n    } catch (error) {\n      window.alert(jezik.general.error.netGreska + \": \" + error.message);\n    }\n  };\n  const handleOdjava = async () => {\n    const token = sessionStorage.getItem('jwt');\n    try {\n      const response = await fetch(`https://localhost:7080/Majstor/OdjaviSaOglasa/${props.oglas.idOglas}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        window.location.reload();\n      } else {\n        window.alert(jezik.general.error.netGreska + \": \" + (await response.text()));\n      }\n    } catch (error) {\n      window.alert(jezik.general.error.netGreska + \": \" + error.message);\n    }\n  };\n  const translateVestine = vestine => {\n    if (jezik.id === 'sr') {\n      return vestine.map(v => {\n        switch (v) {\n          case 'elektricar':\n            return 'električar';\n          case 'keramicar':\n            return 'keramičar';\n          default:\n            return v;\n        }\n      });\n    } else {\n      return vestine.map(v => {\n        switch (v) {\n          case 'stolar':\n            return 'carpenter';\n          case 'elektricar':\n            return 'electrician';\n          case 'vodoinstalater':\n            return 'plumber';\n          case 'keramicar':\n            return 'tilesetter';\n          default:\n            return v;\n        }\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: selectOglas,\n    className: \"border border-gray-300 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer my-4 bg-[#fff7ed] flex justify-between\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-semibold\",\n        children: props.oglas.naslov\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: props.oglas.opis\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [jezik.pregledi.plata, \": \", props.oglas.cenaPoSatu, \" EUR\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font-semibold\",\n        children: [jezik.profilOglasi.vestine, \": \", translateVestine(props.oglas.listaVestina).join(', '), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-end items-end\",\n      onClick: e => e.stopPropagation(),\n      children: [korisnik !== null && korisnik.tip !== 'poslodavac' && props.oglas.prijavljeni !== null && !props.oglas.prijavljeni.includes(korisnik.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrijava,\n        className: \"w-30 h-auto bg-green-700 bg-opacity-50 text-green-800 font-semibold border border-green-800 rounded-lg px-3 py-2 hover:bg-green-600 hover:border-green-700 hover:text-white transition-colors duration-300\",\n        children: jezik.oglas.prijavi\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this), korisnik !== null && korisnik.tip !== 'poslodavac' && props.oglas.prijavljeni !== null && props.oglas.prijavljeni.includes(korisnik.id) && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleOdjava,\n        className: \"w-30 h-auto  bg-orange-700 bg-opacity-50 text-orange-800 font-semibold border border-orange-800 rounded-lg px-3 py-2 hover:bg-orange-600 hover:border-orange-700 hover:text-white transition-colors duration-300\",\n        children: jezik.oglas.odjavi\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 9\n  }, this);\n}\n_s(Oglas, \"W85Cv5W2LL/Yjulp+oETzyTKOZw=\", false, function () {\n  return [useNavigate];\n});\n_c = Oglas;\nvar _c;\n$RefreshReg$(_c, \"Oglas\");","map":{"version":3,"names":["useContext","useNavigate","AppContext","jsxDEV","_jsxDEV","Oglas","props","_s","navigate","korisnik","setOglas","jezik","selectOglas","oglas","sessionStorage","setItem","idOglas","handlePrijava","token","getItem","response","fetch","method","headers","Authorization","ok","window","location","reload","alert","general","error","netGreska","text","message","handleOdjava","translateVestine","vestine","id","map","v","onClick","className","children","naslov","fileName","_jsxFileName","lineNumber","columnNumber","opis","pregledi","plata","cenaPoSatu","profilOglasi","listaVestina","join","e","stopPropagation","tip","prijavljeni","includes","prijavi","odjavi","_c","$RefreshReg$"],"sources":["C:/Users/marko/Desktop/ufindi-konacno/Front27.5/src/komponente/Oglas.js"],"sourcesContent":["import { useContext} from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { AppContext } from \"../App\"\r\n\r\nexport default function Oglas(props){\r\n    const navigate = useNavigate()\r\n    const korisnik = useContext(AppContext).korisnik\r\n    const setOglas = useContext(AppContext).setOglas\r\n    const jezik = useContext(AppContext).jezik\r\n\r\n    const selectOglas = () => {\r\n        setOglas(props.oglas)\r\n        sessionStorage.setItem('oglas', props.oglas.idOglas)\r\n        navigate('../view_job_posting')\r\n    }\r\n\r\n    const handlePrijava = async () => {\r\n        const token = sessionStorage.getItem('jwt')\r\n        try {\r\n            const response = await fetch(`https://localhost:7080/Majstor/prijaviNaOglas?id=${props.oglas.idOglas}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                  Authorization: `bearer ${token}`\r\n                }\r\n            })\r\n            if (response.ok){\r\n                window.location.reload()\r\n            }\r\n            else {\r\n                window.alert(jezik.general.error.netGreska + \": \" + await response.text())\r\n            }\r\n        } catch (error) {\r\n            window.alert(jezik.general.error.netGreska + \": \" + error.message)\r\n        }\r\n    }\r\n\r\n    const handleOdjava = async () => {\r\n        const token = sessionStorage.getItem('jwt')\r\n        try {\r\n            const response = await fetch(`https://localhost:7080/Majstor/OdjaviSaOglasa/${props.oglas.idOglas}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    Authorization: `bearer ${token}`\r\n                  }\r\n            })\r\n            if (response.ok){\r\n                window.location.reload()\r\n            }\r\n            else {\r\n                window.alert(jezik.general.error.netGreska + \": \" + await response.text())\r\n            }\r\n        } catch (error) {\r\n            window.alert(jezik.general.error.netGreska + \": \" + error.message)\r\n        }\r\n    }\r\n\r\n    const translateVestine = vestine => {\r\n        if (jezik.id === 'sr'){\r\n            return vestine.map(v => {\r\n                switch (v) {\r\n                  case 'elektricar':\r\n                    return 'električar'\r\n                  case 'keramicar':\r\n                    return 'keramičar'\r\n                  default:\r\n                    return v\r\n                }\r\n              })\r\n        }\r\n        else {\r\n          return vestine.map(v => {\r\n            switch (v) {\r\n              case 'stolar':\r\n                return 'carpenter'\r\n              case 'elektricar':\r\n                return 'electrician'\r\n              case 'vodoinstalater':\r\n                return 'plumber'\r\n              case 'keramicar':\r\n                return 'tilesetter'\r\n              default:\r\n                return v\r\n            }\r\n          })\r\n        }\r\n      }\r\n\r\n    return (\r\n        <div \r\n            onClick={selectOglas}\r\n            className=\"border border-gray-300 rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow duration-300 cursor-pointer my-4 bg-[#fff7ed] flex justify-between\">\r\n            <div>\r\n            <h2 className=\"font-semibold\">{props.oglas.naslov}</h2>\r\n            <p>{props.oglas.opis}</p>\r\n            <p>{jezik.pregledi.plata}: {props.oglas.cenaPoSatu} EUR</p>\r\n            <p className=\"font-semibold\">{jezik.profilOglasi.vestine}: {translateVestine(props.oglas.listaVestina).join(', ')} </p>\r\n            </div>\r\n            {/* Dugme unutar diva */}\r\n            <div className=\"flex justify-end items-end\"onClick={(e) => e.stopPropagation()}>\r\n            {korisnik !== null && korisnik.tip !== 'poslodavac' && props.oglas.prijavljeni !== null && !props.oglas.prijavljeni.includes(korisnik.id) && (\r\n                <button onClick={handlePrijava} className=\"w-30 h-auto bg-green-700 bg-opacity-50 text-green-800 font-semibold border border-green-800 rounded-lg px-3 py-2 hover:bg-green-600 hover:border-green-700 hover:text-white transition-colors duration-300\">\r\n                    {jezik.oglas.prijavi}\r\n                </button>\r\n            )}\r\n            {korisnik !== null && korisnik.tip !== 'poslodavac' && props.oglas.prijavljeni !== null && props.oglas.prijavljeni.includes(korisnik.id) && (\r\n                <button onClick={handleOdjava} className=\"w-30 h-auto  bg-orange-700 bg-opacity-50 text-orange-800 font-semibold border border-orange-800 rounded-lg px-3 py-2 hover:bg-orange-600 hover:border-orange-700 hover:text-white transition-colors duration-300\">\r\n                    {jezik.oglas.odjavi}\r\n                </button>\r\n            )}\r\n            </div>\r\n        </div>\r\n     );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}