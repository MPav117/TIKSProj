{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marko\\\\source\\\\repos\\\\TIKSUfindi\\\\TIKSUfindi\\\\Frontend\\\\src\\\\komponente\\\\ProfilUgovori.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { AppContext } from '../App';\nimport jsPDF from 'jspdf'; //a library to generate PDFs in client-side JavaScript.\nimport Loader from './Loader';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProfilUgovori() {\n  _s();\n  const [ugovori, setUgovori] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isTerminateConfirmOpen, setIsTerminateConfirmOpen] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n  const korisnik = useContext(AppContext).korisnik;\n  const setNaProfilu = useContext(AppContext).setNaProfilu;\n  const jezik = useContext(AppContext).jezik;\n  const [idZaRaskid, setIdZaRaskid] = useState(null);\n  const fetchUgovori = async () => {\n    const token = sessionStorage.getItem(\"jwt\");\n    try {\n      const response = await fetch('https://localhost:7080/Korisnik/getUgovori', {\n        headers: {\n          Authorization: `bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        window.alert(jezik.general.error.netGreska + \": \" + (await response.text()));\n      } else {\n        const data = await response.json();\n        setUgovori(data);\n      }\n    } catch (error) {\n      window.alert(jezik.general.error.netGreska + \": \" + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchUgovori();\n  }, []);\n  const handleUgovorClick = ugovor => {\n    setNaProfilu(false);\n    navigate(`../ugovor`, {\n      state: {\n        ugovor\n      }\n    });\n  };\n  const downloadPDF = async ugovor => {\n    const doc = new jsPDF();\n    const options = {\n      align: 'left',\n      fontSize: 1,\n      fontStyle: 'italic'\n    };\n    const content = `${jezik.ugovor.a}${ugovor.imePoslodavca}${jezik.ugovor.b}${ugovor.imeMajstora}${jezik.ugovor.c}${ugovor.opis}${jezik.ugovor.d}${new Date(ugovor.datumPocetka).toLocaleDateString()}${jezik.ugovor.e}${new Date(ugovor.datumZavrsetka).toLocaleDateString()}${jezik.ugovor.f}${ugovor.cenaPoSatu}${jezik.ugovor.g}${jezik.ugovor.h}${jezik.ugovor.i}${jezik.ugovor.j}`;\n    const splitText = doc.splitTextToSize(content, 250);\n    doc.setFontSize(12);\n    doc.setFont(\"times\");\n    //doc.text(splitText, 10, 10, {align: 'center'});\n    var xOffset = doc.internal.pageSize.width / 2;\n    doc.text(splitText, xOffset, 10, {\n      align: 'center'\n    });\n    if (ugovor.potpisMajstor) {\n      const potpisMajstoraImg = await loadImage(ugovor.potpisMajstor);\n      doc.addImage(potpisMajstoraImg, 'JPEG', 10, 250, 50, 20);\n      doc.text(`${jezik.ugovor.potpism}`, 10, 245);\n    }\n    if (ugovor.potpisPoslodavca) {\n      const potpisPoslodavcaImg = await loadImage(ugovor.potpisPoslodavca);\n      doc.addImage(potpisPoslodavcaImg, 'JPEG', doc.internal.pageSize.width - 60, 250, 50, 20);\n      doc.text(`${jezik.ugovor.potpisp}`, doc.internal.pageSize.width - 60, 245);\n    }\n    // Dodavanje watermark-a na razli훾ite pozicije na stranici\n    const watermark = 'ufindi';\n    const watermarkFontSize = 12; // Veli훾ina fonta za watermark\n    const watermarkColor = 200; // Boja fonta za watermark\n\n    doc.setFontSize(watermarkFontSize);\n    doc.setTextColor(watermarkColor);\n    const pageWidth = doc.internal.pageSize.width;\n    const pageHeight = doc.internal.pageSize.height;\n    const watermarkXIncrement = 50; // Inkrement za X poziciju\n    const watermarkYIncrement = 50; // Inkrement za Y poziciju\n\n    let xPosition = 10; // Inicijalna X pozicija\n    let yPosition = 10; // Inicijalna Y pozicija\n\n    while (yPosition < pageHeight) {\n      doc.text(watermark, xPosition, yPosition);\n      xPosition += watermarkXIncrement;\n      if (xPosition > pageWidth) {\n        xPosition = 10;\n        yPosition += watermarkYIncrement;\n      }\n    }\n    doc.save(`ugovor_${ugovor.id}.pdf`);\n  };\n  const loadImage = base64 => {\n    return new Promise(resolve => {\n      const img = new Image();\n      img.src = base64;\n      img.onload = () => resolve(img);\n    });\n  };\n  const handleAddRecenzija = (uID, kID1, kID2) => {\n    sessionStorage.setItem('uID', `${uID}`);\n    if (korisnik.tip === 'majstor') {\n      sessionStorage.setItem('kID', `${kID2}`);\n    } else {\n      sessionStorage.setItem('kID', `${kID1}`);\n    }\n    setNaProfilu(false);\n    navigate('/add_review');\n  };\n  const handleRaskini = id => {\n    setIsTerminateConfirmOpen(true);\n    setIdZaRaskid(id);\n  };\n  const handleRaskiniConfirm = async id => {\n    const token = sessionStorage.getItem('jwt');\n    try {\n      const response = await fetch(`https://localhost:7080/Korisnik/raskiniUgovor?idUgovora=${id}`, {\n        method: 'PUT',\n        headers: {\n          Authorization: `bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        fetchUgovori();\n      } else {\n        window.alert(jezik.general.error.netGreska + \": \" + (await response.text()));\n      }\n    } catch (error) {\n      window.alert(jezik.general.error.netGreska + \": \" + error.message);\n    }\n    setIsTerminateConfirmOpen(false);\n  };\n  const handleRaskiniCancel = () => {\n    setIsTerminateConfirmOpen(false);\n  };\n  const handleZavrsenPosao = async (uspeh, id) => {\n    const token = sessionStorage.getItem('jwt');\n    try {\n      const response = await fetch(`https://localhost:7080/Poslodavac/zavrsiPosao/${id}/${uspeh}`, {\n        method: 'POST',\n        headers: {\n          Authorization: `bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        fetchUgovori();\n      } else {\n        window.alert(jezik.general.error.netGreska + \": \" + (await response.text()));\n      }\n    } catch (error) {\n      window.alert(jezik.general.error.netGreska + \": \" + error.message);\n    }\n  };\n  const handleViewKorisnik = (idm, idp) => {\n    if (korisnik.tip === 'majstor') {\n      sessionStorage.setItem('view', `${idp}`);\n    } else {\n      sessionStorage.setItem('view', `${idm}`);\n    }\n    setNaProfilu(false);\n    navigate(`../view_profile`);\n  };\n  const translateStatus = status => {\n    switch (jezik.id) {\n      case 'en':\n        switch (status) {\n          case 'nepotpisan':\n            return 'Unsigned';\n          case 'potpisaoMajstor':\n            return 'Signed by Craftsman';\n          case 'potpisaoPoslodavac':\n            return 'Signed by Employer';\n          case 'potpisan':\n            return 'Signed';\n          case 'raskidaMajstor':\n            return 'Terminated by Craftsman';\n          case 'raskidaPoslodavac':\n            return 'Terminated by Employer';\n          case 'neuspesnoZavrsen':\n            return 'Unsuccessfuly Finished';\n          case 'uspesnoZavrsen':\n            return 'Successfuly Finished';\n          default:\n            return status;\n        }\n      case 'sr':\n        switch (status) {\n          case 'nepotpisan':\n            return 'Nepotpisan';\n          case 'potpisaoMajstor':\n            return 'Potpisao Majstor';\n          case 'potpisaoPoslodavac':\n            return 'Potpisao poslodavac';\n          case 'potpisan':\n            return 'Potpisan';\n          case 'raskidaMajstor':\n            return 'Raskida Majstor';\n          case 'raskidaPoslodavac':\n            return 'Raskida Poslodavac';\n          case 'neuspesnoZavrsen':\n            return 'Neuspesno Zavrsen';\n          case 'uspesnoZavrsen':\n            return 'Uspesno Zavrsen';\n          default:\n            return status;\n        }\n      default:\n        return status;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-4xl bg-white bg-opacity-70 border border-gray-200 rounded-lg shadow mx-auto mt-4 container\",\n    children: ugovori.length === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center py-5 text-2xl font-semibold\",\n      children: jezik.profilUgovori.nema\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gap-4 px-5 pt-5 flex flex-col justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center text-2xl font-semibold\",\n          children: jezik.profilUgovori.aktivni\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this), ugovori.map(ugovor => {\n          if (ugovor.status !== 'neuspesnoZavrsen' && ugovor.status !== 'uspesnoZavrsen') {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-100 border border-orange-200 shadow-sm p-4 mb-2 rounded w-full text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                onClick: () => handleViewKorisnik(ugovor.majstorID, ugovor.poslodavacID),\n                className: \"text-xl font-bold mb-2\",\n                children: ugovor.status === 'potpisan' ? `${ugovor.imePoslodavca} - ${ugovor.imeMajstora}` : `${korisnik.naziv} - ${ugovor.imeZaPrikaz}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 21\n              }, this), (ugovor.status === 'potpisan' || ugovor.status === 'raskidaMajstor' || ugovor.status === 'raskidaPoslodavac' || ugovor.status === 'potpisaoMajstor' && korisnik.tip === 'majstor' || korisnik.tip === 'poslodavac' && ugovor.status === 'potpisaoPoslodavac') && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 mb-2 text-wrap\",\n                  children: ugovor.opis\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-700 mb-2 pe-3\",\n                    children: [jezik.profilUgovori.dpocetak, \": \", new Date(ugovor.datumPocetka).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-gray-700 mb-2 ps-3\",\n                    children: [jezik.profilUgovori.dkraj, \": \", new Date(ugovor.datumZavrsetka).toLocaleDateString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 mb-2\",\n                  children: [jezik.pregledi.plata, \": \", ugovor.cenaPoSatu, \" EUR\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 mb-2 font-semibold\",\n                children: [\"Status: \", translateStatus(ugovor.status)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap justify-center gap-5\",\n                children: [ugovor.status !== 'nepotpisan' && ugovor.status !== 'potpisaoMajstor' && ugovor.status !== 'potpisaoPoslodavac' && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => downloadPDF(ugovor),\n                  className: \"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\",\n                  children: jezik.profilUgovori.download\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 25\n                }, this), (ugovor.status === 'nepotpisan' || ugovor.status === 'potpisaoMajstor' && korisnik.tip === 'poslodavac' || korisnik.tip === 'majstor' && ugovor.status === 'potpisaoPoslodavac') && !ugovor.pripadaGrupi && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleUgovorClick(ugovor),\n                  className: \"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\",\n                  children: jezik.profilUgovori.potpisi\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 25\n                }, this), (ugovor.status === 'potpisan' || ugovor.status === 'raskidaMajstor' || ugovor.status === 'raskidaPoslodavac') && !ugovor.pripadaGrupi && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAddRecenzija(ugovor.id, ugovor.majstorID, ugovor.poslodavacID),\n                  className: \"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\",\n                  children: jezik.profilUgovori.recenzija\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 25\n                }, this), (ugovor.status === 'potpisan' || ugovor.status === 'raskidaMajstor' && korisnik.tip === 'poslodavac' || korisnik.tip === 'majstor' && ugovor.status === 'raskidaPoslodavac') && !ugovor.pripadaGrupi && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRaskini(ugovor.id),\n                  className: \"bg-orange-700 bg-opacity-50 text-orange-800 font-semibold border border-orange-800 rounded-lg px-4 py-4 hover:bg-orange-600 hover:border-orange-700 hover:text-white transition-colors duration-300\",\n                  children: jezik.profilUgovori.raskini\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 25\n                }, this), ugovor.status === 'potpisan' && korisnik.tip === 'poslodavac' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleZavrsenPosao(0, ugovor.id),\n                    className: \"bg-orange-700 bg-opacity-50 text-orange-800 font-semibold border border-orange-800 rounded-lg px-4 py-4 hover:bg-orange-600 hover:border-orange-700 hover:text-white transition-colors duration-300\",\n                    children: jezik.profilUgovori.neuspeh\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleZavrsenPosao(1, ugovor.id),\n                    className: \"bg-green-700 bg-opacity-50 text-green-800 font-semibold border border-green-800 rounded-lg px-4 py-4 hover:bg-green-600 hover:border-green-700 hover:text-white transition-colors duration-300\",\n                    children: jezik.profilUgovori.uspeh\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 21\n              }, this)]\n            }, ugovor.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this);\n          }\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), isTerminateConfirmOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fixed inset-0 flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"fixed inset-0 bg-orange-100 bg-opacity-75\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-4 rounded-lg shadow-lg w-96 relative border border-yellow-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mb-4\",\n            children: [\" \", \" \", jezik.profilUgovori.prompt]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleRaskiniConfirm(idZaRaskid),\n              className: \"px-4 py-2 bg-orange-200 text-black rounded hover:bg-orange-300\",\n              children: jezik.general.yes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRaskiniCancel,\n              className: \"px-4 py-2 bg-orange-200 text-black rounded hover:bg-orange-300\",\n              children: jezik.general.no\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gap-4 px-5 py-5 flex flex-col justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center text-2xl font-semibold\",\n          children: jezik.profilUgovori.zavrseni\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this), ugovori.map(ugovor => {\n          if (ugovor.status === 'neuspesnoZavrsen' || ugovor.status === 'uspesnoZavrsen') {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-orange-100 border border-orange-200 shadow-sm p-4 mb-2 rounded w-full text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                onClick: () => handleViewKorisnik(ugovor.majstorID, ugovor.poslodavacID),\n                className: \"text-xl font-bold\",\n                children: [ugovor.imePoslodavca, \" - \", ugovor.imeMajstora]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 mb-2 text-wrap\",\n                children: ugovor.opis\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700 mb-2 pe-3\",\n                  children: [jezik.profilUgovori.dpocetak, \": \", new Date(ugovor.datumPocetka).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700 mb-2 ps-3\",\n                  children: [jezik.profilUgovori.dkraj, \": \", new Date(ugovor.datumZavrsetka).toLocaleDateString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 mb-2\",\n                children: [jezik.pregledi.plata, \": \", ugovor.cenaPoSatu, \" EUR\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-700 mb-2 font-semibold\",\n                children: [\"Status: \", translateStatus(ugovor.status)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-wrap justify-center gap-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => downloadPDF(ugovor),\n                  className: \"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\",\n                  children: jezik.profilUgovori.download\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 23\n                }, this), !ugovor.pripadaGrupi && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAddRecenzija(ugovor.id, ugovor.majstorID, ugovor.poslodavacID),\n                  className: \"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\",\n                  children: jezik.profilUgovori.recenzija\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this)]\n            }, ugovor.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 19\n            }, this);\n          }\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 1\n  }, this);\n}\n_s(ProfilUgovori, \"+Jdr/YijJPeHaZ2xtmUOUEqlG9A=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = ProfilUgovori;\n;\nvar _c;\n$RefreshReg$(_c, \"ProfilUgovori\");","map":{"version":3,"names":["React","useContext","useEffect","useState","useLocation","useNavigate","AppContext","jsPDF","Loader","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfilUgovori","_s","ugovori","setUgovori","loading","setLoading","isTerminateConfirmOpen","setIsTerminateConfirmOpen","location","navigate","korisnik","setNaProfilu","jezik","idZaRaskid","setIdZaRaskid","fetchUgovori","token","sessionStorage","getItem","response","fetch","headers","Authorization","ok","window","alert","general","error","netGreska","text","data","json","message","handleUgovorClick","ugovor","state","downloadPDF","doc","options","align","fontSize","fontStyle","content","a","imePoslodavca","b","imeMajstora","c","opis","d","Date","datumPocetka","toLocaleDateString","e","datumZavrsetka","f","cenaPoSatu","g","h","i","j","splitText","splitTextToSize","setFontSize","setFont","xOffset","internal","pageSize","width","potpisMajstor","potpisMajstoraImg","loadImage","addImage","potpism","potpisPoslodavca","potpisPoslodavcaImg","potpisp","watermark","watermarkFontSize","watermarkColor","setTextColor","pageWidth","pageHeight","height","watermarkXIncrement","watermarkYIncrement","xPosition","yPosition","save","id","base64","Promise","resolve","img","Image","src","onload","handleAddRecenzija","uID","kID1","kID2","setItem","tip","handleRaskini","handleRaskiniConfirm","method","handleRaskiniCancel","handleZavrsenPosao","uspeh","handleViewKorisnik","idm","idp","translateStatus","status","fileName","_jsxFileName","lineNumber","columnNumber","className","children","length","profilUgovori","nema","aktivni","map","onClick","majstorID","poslodavacID","naziv","imeZaPrikaz","dpocetak","dkraj","pregledi","plata","download","pripadaGrupi","potpisi","recenzija","raskini","neuspeh","prompt","yes","no","zavrseni","_c","$RefreshReg$"],"sources":["C:/Users/marko/source/repos/TIKSUfindi/TIKSUfindi/Frontend/src/komponente/ProfilUgovori.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { AppContext } from '../App';\r\nimport jsPDF from 'jspdf'; //a library to generate PDFs in client-side JavaScript.\r\nimport Loader from './Loader';\r\n\r\nexport default function ProfilUgovori() {\r\n  const [ugovori, setUgovori] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isTerminateConfirmOpen, setIsTerminateConfirmOpen] = useState(false)\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const korisnik = useContext(AppContext).korisnik\r\n  const setNaProfilu = useContext(AppContext).setNaProfilu\r\n  const jezik = useContext(AppContext).jezik\r\n  const [idZaRaskid, setIdZaRaskid] = useState(null)\r\n  \r\n  const fetchUgovori = async () => {\r\n    const token = sessionStorage.getItem(\"jwt\");\r\n    try {\r\n      const response = await fetch('https://localhost:7080/Korisnik/getUgovori', {\r\n        headers: {\r\n          Authorization: `bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        window.alert(jezik.general.error.netGreska + \": \" + await response.text())\r\n      }\r\n      else {\r\n        const data = await response.json();\r\n        setUgovori(data)\r\n      }\r\n    } catch (error) {\r\n      window.alert(jezik.general.error.netGreska + \": \" + error.message)\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUgovori();\r\n  }, []);\r\n\r\n  const handleUgovorClick = (ugovor) => {\r\n    setNaProfilu(false)\r\n    navigate(`../ugovor`, { state: { ugovor } });\r\n  };\r\n\r\n  const downloadPDF = async (ugovor) => {\r\n    const doc = new jsPDF();\r\n    const options = {\r\n      align: 'left',\r\n      fontSize: 1,\r\n      fontStyle: 'italic'\r\n    };\r\n    const content =`${jezik.ugovor.a}${ugovor.imePoslodavca}${jezik.ugovor.b}${ugovor.imeMajstora}${jezik.ugovor.c}${ugovor.opis}${jezik.ugovor.d}${new Date(ugovor.datumPocetka).toLocaleDateString()}${jezik.ugovor.e}${new Date(ugovor.datumZavrsetka).toLocaleDateString()}${jezik.ugovor.f}${ugovor.cenaPoSatu}${jezik.ugovor.g}${jezik.ugovor.h}${jezik.ugovor.i}${jezik.ugovor.j}`;\r\n    const splitText = doc.splitTextToSize(content, 250);\r\n    doc.setFontSize(12)\r\n    doc.setFont(\"times\")\r\n    //doc.text(splitText, 10, 10, {align: 'center'});\r\n    var xOffset = doc.internal.pageSize.width/2 \r\n            doc.text(splitText, xOffset,10, {align: 'center'})\r\n  \r\n    if (ugovor.potpisMajstor) {\r\n      const potpisMajstoraImg = await loadImage(ugovor.potpisMajstor);\r\n      doc.addImage(potpisMajstoraImg, 'JPEG', 10, 250, 50, 20);\r\n      doc.text(`${jezik.ugovor.potpism}`, 10, 245);\r\n    }\r\n  \r\n    if (ugovor.potpisPoslodavca) {\r\n      const potpisPoslodavcaImg = await loadImage(ugovor.potpisPoslodavca);\r\n      doc.addImage(potpisPoslodavcaImg, 'JPEG', doc.internal.pageSize.width - 60, 250, 50, 20);\r\n      doc.text(`${jezik.ugovor.potpisp}`, doc.internal.pageSize.width - 60, 245);\r\n    }\r\n  // Dodavanje watermark-a na razli훾ite pozicije na stranici\r\n  const watermark = 'ufindi';\r\n  const watermarkFontSize = 12; // Veli훾ina fonta za watermark\r\n  const watermarkColor = 200; // Boja fonta za watermark\r\n\r\n  doc.setFontSize(watermarkFontSize);\r\n  doc.setTextColor(watermarkColor);\r\n\r\n  const pageWidth = doc.internal.pageSize.width;\r\n  const pageHeight = doc.internal.pageSize.height;\r\n  const watermarkXIncrement = 50; // Inkrement za X poziciju\r\n  const watermarkYIncrement = 50; // Inkrement za Y poziciju\r\n\r\n  let xPosition = 10; // Inicijalna X pozicija\r\n  let yPosition = 10; // Inicijalna Y pozicija\r\n\r\n  while (yPosition < pageHeight) {\r\n    doc.text(watermark, xPosition, yPosition);\r\n    xPosition += watermarkXIncrement;\r\n\r\n    if (xPosition > pageWidth) {\r\n      xPosition = 10;\r\n      yPosition += watermarkYIncrement;\r\n    }\r\n  }\r\n  \r\n  \r\n    doc.save(`ugovor_${ugovor.id}.pdf`);\r\n  };\r\n\r\n  const loadImage = (base64) => {\r\n    return new Promise((resolve) => {\r\n      const img = new Image();\r\n      img.src = base64;\r\n      img.onload = () => resolve(img);\r\n    });\r\n  };\r\n\r\n  const handleAddRecenzija = (uID, kID1, kID2) => {\r\n    sessionStorage.setItem('uID', `${uID}`)\r\n    if (korisnik.tip === 'majstor'){\r\n      sessionStorage.setItem('kID', `${kID2}`)\r\n    }\r\n    else {\r\n      sessionStorage.setItem('kID', `${kID1}`)\r\n    }\r\n    setNaProfilu(false)\r\n    navigate('/add_review')\r\n  }\r\n\r\n  const handleRaskini = (id) => {\r\n    setIsTerminateConfirmOpen(true)\r\n    setIdZaRaskid(id)\r\n  };\r\n\r\n  const handleRaskiniConfirm = async id => {\r\n    const token = sessionStorage.getItem('jwt')\r\n    try {\r\n      const response = await fetch(`https://localhost:7080/Korisnik/raskiniUgovor?idUgovora=${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          Authorization: `bearer ${token}`\r\n        }\r\n      })\r\n\r\n      if (response.ok){\r\n        fetchUgovori()\r\n      }\r\n      else {\r\n        window.alert(jezik.general.error.netGreska + \": \" + await response.text())\r\n      }\r\n    } catch (error) {\r\n      window.alert(jezik.general.error.netGreska + \": \" + error.message)\r\n    }\r\n    setIsTerminateConfirmOpen(false)\r\n  }\r\n\r\n  const handleRaskiniCancel = () => {\r\n    setIsTerminateConfirmOpen(false)\r\n  };\r\n\r\n  const handleZavrsenPosao = async (uspeh, id) => {\r\n    const token = sessionStorage.getItem('jwt')\r\n    try {\r\n      const response = await fetch(`https://localhost:7080/Poslodavac/zavrsiPosao/${id}/${uspeh}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `bearer ${token}`\r\n        }\r\n      })\r\n\r\n      if (response.ok){\r\n        fetchUgovori()\r\n      }\r\n      else {\r\n        window.alert(jezik.general.error.netGreska + \": \" + await response.text())\r\n      }\r\n    } catch (error) {\r\n      window.alert(jezik.general.error.netGreska + \": \" + error.message)\r\n    }\r\n  }\r\n\r\n  const handleViewKorisnik = (idm, idp) => {\r\n    if (korisnik.tip === 'majstor'){\r\n      sessionStorage.setItem('view', `${idp}`)\r\n    }\r\n    else {\r\n      sessionStorage.setItem('view', `${idm}`)\r\n    }\r\n    setNaProfilu(false)\r\n    navigate(`../view_profile`)\r\n  }\r\n\r\n  const translateStatus = status => {\r\n    switch (jezik.id) {\r\n      case 'en':\r\n        switch (status) {\r\n            case 'nepotpisan':\r\n              return 'Unsigned'\r\n            case 'potpisaoMajstor':\r\n              return 'Signed by Craftsman'\r\n            case 'potpisaoPoslodavac':\r\n              return 'Signed by Employer'\r\n            case 'potpisan':\r\n              return 'Signed'\r\n            case 'raskidaMajstor':\r\n              return 'Terminated by Craftsman'\r\n            case 'raskidaPoslodavac':\r\n              return 'Terminated by Employer'\r\n            case 'neuspesnoZavrsen':\r\n              return 'Unsuccessfuly Finished'\r\n            case 'uspesnoZavrsen':\r\n              return 'Successfuly Finished'\r\n            default:\r\n              return status\r\n        }\r\n      case 'sr':\r\n        switch (status) {\r\n          case 'nepotpisan':\r\n            return 'Nepotpisan'\r\n          case 'potpisaoMajstor':\r\n            return 'Potpisao Majstor'\r\n          case 'potpisaoPoslodavac':\r\n            return 'Potpisao poslodavac'\r\n          case 'potpisan':\r\n            return 'Potpisan'\r\n          case 'raskidaMajstor':\r\n            return 'Raskida Majstor'\r\n          case 'raskidaPoslodavac':\r\n            return 'Raskida Poslodavac'\r\n          case 'neuspesnoZavrsen':\r\n            return 'Neuspesno Zavrsen'\r\n          case 'uspesnoZavrsen':\r\n            return 'Uspesno Zavrsen'\r\n          default:\r\n            return status\r\n      }\r\n      default:\r\n        return status\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return <Loader />\r\n  }\r\n\r\n  return (\r\n<div className=\"w-full max-w-4xl bg-white bg-opacity-70 border border-gray-200 rounded-lg shadow mx-auto mt-4 container\">\r\n      {ugovori.length === 0 ? (\r\n        <h2 className='text-center py-5 text-2xl font-semibold'>{jezik.profilUgovori.nema}</h2>\r\n      ) : (\r\n        <div>\r\n          <div className=\"gap-4 px-5 pt-5 flex flex-col justify-center\">\r\n            <h2 className='text-center text-2xl font-semibold'>{jezik.profilUgovori.aktivni}</h2>\r\n            {ugovori.map(ugovor => {\r\n              if (ugovor.status !== 'neuspesnoZavrsen' && ugovor.status !== 'uspesnoZavrsen'){\r\n                return (\r\n                  <div key={ugovor.id} className=\"bg-orange-100 border border-orange-200 shadow-sm p-4 mb-2 rounded w-full text-center\">\r\n                    <h3 onClick={() => handleViewKorisnik(ugovor.majstorID, ugovor.poslodavacID)} className=\"text-xl font-bold mb-2\">{ugovor.status === 'potpisan' ? `${ugovor.imePoslodavca} - ${ugovor.imeMajstora}` : `${korisnik.naziv} - ${ugovor.imeZaPrikaz}`}</h3>\r\n                    {(ugovor.status === 'potpisan' || ugovor.status === 'raskidaMajstor' || ugovor.status=== 'raskidaPoslodavac' || (ugovor.status === 'potpisaoMajstor' && korisnik.tip === 'majstor') || (korisnik.tip === 'poslodavac' && ugovor.status === 'potpisaoPoslodavac')) && (\r\n                      <>\r\n                        <p className=\"text-gray-700 mb-2 text-wrap\">{ugovor.opis}</p>\r\n                        <p>\r\n                          <span className=\"text-gray-700 mb-2 pe-3\">{jezik.profilUgovori.dpocetak}: {new Date(ugovor.datumPocetka).toLocaleDateString()}</span>\r\n                          <span className=\"text-gray-700 mb-2 ps-3\">{jezik.profilUgovori.dkraj}: {new Date(ugovor.datumZavrsetka).toLocaleDateString()}</span>\r\n                        </p>\r\n                        <p className=\"text-gray-700 mb-2\">{jezik.pregledi.plata}: {ugovor.cenaPoSatu} EUR</p>\r\n                      </>\r\n                    )}\r\n                    <p className=\"text-gray-700 mb-2 font-semibold\">Status: {translateStatus(ugovor.status)}</p>\r\n                    <div className='flex flex-wrap justify-center gap-5'>\r\n                      {ugovor.status !== 'nepotpisan' && ugovor.status !== 'potpisaoMajstor' && ugovor.status !== 'potpisaoPoslodavac' && (\r\n                        <button onClick={() => downloadPDF(ugovor)} className=\"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.download}</button>\r\n                      )}\r\n                      {(ugovor.status === 'nepotpisan' || (ugovor.status === 'potpisaoMajstor' && korisnik.tip === 'poslodavac') || (korisnik.tip === 'majstor' && ugovor.status === 'potpisaoPoslodavac')) && !ugovor.pripadaGrupi && (\r\n                        <button onClick={() => handleUgovorClick(ugovor)} className=\"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.potpisi}</button>\r\n                      )}\r\n                      {(ugovor.status === 'potpisan' || ugovor.status === 'raskidaMajstor' || ugovor.status=== 'raskidaPoslodavac') && !ugovor.pripadaGrupi && (\r\n                        <button onClick={() => handleAddRecenzija(ugovor.id, ugovor.majstorID, ugovor.poslodavacID)} className=\"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.recenzija}</button>\r\n                      )}\r\n                      {(ugovor.status === 'potpisan' || (ugovor.status === 'raskidaMajstor' && korisnik.tip === 'poslodavac') || (korisnik.tip === 'majstor' && ugovor.status === 'raskidaPoslodavac')) && !ugovor.pripadaGrupi && (\r\n                        <button onClick={() => handleRaskini(ugovor.id)} className=\"bg-orange-700 bg-opacity-50 text-orange-800 font-semibold border border-orange-800 rounded-lg px-4 py-4 hover:bg-orange-600 hover:border-orange-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.raskini}</button>\r\n                      )}\r\n                      {(ugovor.status === 'potpisan' && korisnik.tip === 'poslodavac') && (\r\n                        <>\r\n                          <button onClick={() => handleZavrsenPosao(0, ugovor.id)} className=\"bg-orange-700 bg-opacity-50 text-orange-800 font-semibold border border-orange-800 rounded-lg px-4 py-4 hover:bg-orange-600 hover:border-orange-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.neuspeh}</button>\r\n                          <button onClick={() => handleZavrsenPosao(1, ugovor.id)} className=\"bg-green-700 bg-opacity-50 text-green-800 font-semibold border border-green-800 rounded-lg px-4 py-4 hover:bg-green-600 hover:border-green-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.uspeh}</button>\r\n                        </>\r\n                      )}\r\n\r\n                    </div>\r\n                  </div>\r\n                )\r\n                }\r\n                })}\r\n          </div>\r\n          {isTerminateConfirmOpen && (\r\n            <div className=\"fixed inset-0 flex items-center justify-center\">\r\n              <div className=\"fixed inset-0 bg-orange-100 bg-opacity-75\"></div>\r\n              <div className=\"bg-white p-4 rounded-lg shadow-lg w-96 relative border border-yellow-600\">\r\n                <p className=\"mb-4\"> {/*{jezik.profilHeader.confirmTerminate}*/} {jezik.profilUgovori.prompt}</p>\r\n                <div className=\"flex justify-end space-x-4\">\r\n                  <button onClick={() => handleRaskiniConfirm(idZaRaskid)} className=\"px-4 py-2 bg-orange-200 text-black rounded hover:bg-orange-300\">{jezik.general.yes}</button>\r\n                  <button onClick={handleRaskiniCancel} className=\"px-4 py-2 bg-orange-200 text-black rounded hover:bg-orange-300\">{jezik.general.no}</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className=\"gap-4 px-5 py-5 flex flex-col justify-center\">\r\n            <h2 className='text-center text-2xl font-semibold'>{jezik.profilUgovori.zavrseni}</h2>\r\n            {ugovori.map(ugovor => {\r\n              if (ugovor.status === 'neuspesnoZavrsen' || ugovor.status === 'uspesnoZavrsen'){\r\n                return (\r\n                  <div key={ugovor.id} className=\"bg-orange-100 border border-orange-200 shadow-sm p-4 mb-2 rounded w-full text-center\">\r\n                    <h3 onClick={() => handleViewKorisnik(ugovor.majstorID, ugovor.poslodavacID)} className=\"text-xl font-bold\">{ugovor.imePoslodavca} - {ugovor.imeMajstora}</h3>\r\n                    <p className=\"text-gray-700 mb-2 text-wrap\">{ugovor.opis}</p>\r\n                        <p>\r\n                          <span className=\"text-gray-700 mb-2 pe-3\">{jezik.profilUgovori.dpocetak}: {new Date(ugovor.datumPocetka).toLocaleDateString()}</span>\r\n                          <span className=\"text-gray-700 mb-2 ps-3\">{jezik.profilUgovori.dkraj}: {new Date(ugovor.datumZavrsetka).toLocaleDateString()}</span>\r\n                        </p>\r\n                        <p className=\"text-gray-700 mb-2\">{jezik.pregledi.plata}: {ugovor.cenaPoSatu} EUR</p>\r\n                    <p className=\"text-gray-700 mb-2 font-semibold\">Status: {translateStatus(ugovor.status)}</p>\r\n                    <div className='flex flex-wrap justify-center gap-5'>\r\n                      <button onClick={() => downloadPDF(ugovor)} className=\"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.download}</button>\r\n                      {!ugovor.pripadaGrupi && (\r\n                        <button onClick={() => handleAddRecenzija(ugovor.id, ugovor.majstorID, ugovor.poslodavacID)} className=\"bg-yellow-700 bg-opacity-50 text-yellow-800 font-semibold border border-yellow-800 rounded-lg px-4 py-4 hover:bg-yellow-600 hover:border-yellow-700 hover:text-white transition-colors duration-300\">{jezik.profilUgovori.recenzija}</button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                )\r\n              }\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}