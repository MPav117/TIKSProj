{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\marko\\\\source\\\\repos\\\\TIKSUfindi\\\\TIKSUfindi\\\\Frontend\\\\src\\\\komponente\\\\ChatRoom.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect, useRef } from 'react';\nimport { AppContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatRoom = ({\n  messages,\n  sendMessage,\n  onClose\n}) => {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const {\n    korisnik\n  } = useContext(AppContext);\n  const messagesEndRef = useRef(null);\n  const jezik = useContext(AppContext).jezik;\n  console.log(korisnik.username);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (message.trim() !== \"\") {\n      sendMessage(message);\n      setMessage(\"\");\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen pozadina bg-gradient-to-r from-transparent via-gray-100 to-transparent opacity-80 z-10\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"backdrop-blur-sm bg-white bg-opacity-60 shadow-lg w-full max-w-lg h-3/4 flex flex-col rounded-lg border border-amber-900 relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end p-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"bg-amber-600 text-white font-bold rounded px-2 py-1 mr-1\",\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 p-4 overflow-y-auto\",\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `mb-3 flex ${msg.senderUsername === korisnik.username ? 'justify-end' : 'justify-start'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 rounded-lg shadow max-w-max ${msg.senderUsername === korisnik.username ? 'bg-orange-600 bg-opacity-60 text-right font-semibold' : 'bg-orange-300 bg-opacity-60 text-left font-semibold'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [msg.senderUsername, \":\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), \" \", msg.message]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"flex flex-col sm:flex-row p-4 border-t border-gray-300\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          placeholder: jezik.chat.prompt,\n          className: \"flex-1 mb-2 md:mb-0 md:mr-2 p-2 border rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"rounded px-4 py-2 bg-yellow-700 bg-opacity-50 text-yellow-900 font-bold border border-yellow-800 hover:bg-yellow-700 hover:border-yellow-700 hover:text-white transition-colors duration-300\",\n          children: jezik.chat.send\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatRoom, \"snHU/uQaXUruREo27RwNQRfkTR0=\");\n_c = ChatRoom;\nexport default ChatRoom;\nvar _c;\n$RefreshReg$(_c, \"ChatRoom\");","map":{"version":3,"names":["React","useState","useContext","useEffect","useRef","AppContext","jsxDEV","_jsxDEV","ChatRoom","messages","sendMessage","onClose","_s","message","setMessage","korisnik","messagesEndRef","jezik","console","log","username","handleSubmit","e","preventDefault","trim","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","msg","index","senderUsername","ref","onSubmit","type","value","onChange","target","placeholder","chat","prompt","send","_c","$RefreshReg$"],"sources":["C:/Users/marko/source/repos/TIKSUfindi/TIKSUfindi/Frontend/src/komponente/ChatRoom.js"],"sourcesContent":["import React, { useState, useContext, useEffect, useRef } from 'react';\r\nimport { AppContext } from \"../App\";\r\n\r\nconst ChatRoom = ({ messages, sendMessage, onClose }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const { korisnik } = useContext(AppContext);\r\n  const messagesEndRef = useRef(null);\r\n  const jezik = useContext(AppContext).jezik\r\n\r\n  console.log(korisnik.username);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (message.trim() !== \"\") {\r\n      sendMessage(message);\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center h-screen pozadina bg-gradient-to-r from-transparent via-gray-100 to-transparent opacity-80 z-10\">\r\n      <div className=\"backdrop-blur-sm bg-white bg-opacity-60 shadow-lg w-full max-w-lg h-3/4 flex flex-col rounded-lg border border-amber-900 relative\">\r\n        <div className='flex justify-end p-2'>\r\n        <button \r\n          onClick={onClose} \r\n          className=\"bg-amber-600 text-white font-bold rounded px-2 py-1 mr-1\"\r\n        >\r\n          X\r\n        </button>\r\n        </div>\r\n        <div className=\"flex-1 p-4 overflow-y-auto\">\r\n          {messages.map((msg, index) => (\r\n            <div \r\n              key={index} \r\n              className={`mb-3 flex ${\r\n                msg.senderUsername === korisnik.username ? 'justify-end' : 'justify-start'\r\n              }`}\r\n            >\r\n              <div className={`p-3 rounded-lg shadow max-w-max ${\r\n                msg.senderUsername === korisnik.username ? 'bg-orange-600 bg-opacity-60 text-right font-semibold' : 'bg-orange-300 bg-opacity-60 text-left font-semibold'\r\n              }`}>\r\n                <strong>{msg.senderUsername}:</strong> {msg.message}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n        <form onSubmit={handleSubmit} className=\"flex flex-col sm:flex-row p-4 border-t border-gray-300\">\r\n            <input\r\n              type=\"text\"\r\n              value={message}\r\n              onChange={(e) => setMessage(e.target.value)}\r\n              placeholder={jezik.chat.prompt}\r\n              className=\"flex-1 mb-2 md:mb-0 md:mr-2 p-2 border rounded\"\r\n            />\r\n            <button \r\n              type=\"submit\" \r\n              className=\"rounded px-4 py-2 bg-yellow-700 bg-opacity-50 text-yellow-900 font-bold border border-yellow-800 hover:bg-yellow-700 hover:border-yellow-700 hover:text-white transition-colors duration-300\"\r\n            >\r\n              {jezik.chat.send}\r\n            </button>\r\n          </form>\r\n\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n\r\nexport default ChatRoom;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}